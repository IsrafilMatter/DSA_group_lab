{% extends "base.html" %}

{% block title %}Tab Manager{% endblock title %}

{% block content %}
<div class="restaurant-container">
    <h1>Tab Manager</h1>
    <p style="text-align: center; color: var(--text-secondary); margin-bottom: 2rem;">
        Manage browser tabs using Deque (Double-Ended Queue) - Add or remove from both ends
    </p>
    
    <div class="tabs" id="tabsDisplay">
        {% if tabs %}
            {% for tab in tabs %}
                <div class="tab">
                    <span style="font-weight: 600;">{{ tab }}</span>
                    {% if loop.first %}
                        <span style="display: block; font-size: 0.75rem; color: var(--primary-color); margin-top: 0.25rem;">← Front</span>
                    {% elif loop.last %}
                        <span style="display: block; font-size: 0.75rem; color: var(--secondary-color); margin-top: 0.25rem;">Rear →</span>
                    {% endif %}
                </div>
            {% endfor %}
        {% else %}
            <p><em>No open tabs. Add tabs to get started!</em></p>
        {% endif %}
    </div>

    {% if tabs %}
    <div style="display: flex; justify-content: center; gap: 2rem; margin: 1.5rem 0; flex-wrap: wrap;">
        <div style="background: var(--bg-primary); padding: 1rem 1.5rem; border-radius: var(--radius-md); text-align: center;">
            <div style="font-size: 0.875rem; color: var(--text-secondary);">Total Tabs</div>
            <div style="font-size: 2rem; font-weight: 700; color: var(--primary-color);">{{ tabs|length }}</div>
        </div>
        {% if tabs %}
        <div style="background: var(--bg-primary); padding: 1rem 1.5rem; border-radius: var(--radius-md); text-align: center;">
            <div style="font-size: 0.875rem; color: var(--text-secondary);">Front Tab</div>
            <div style="font-size: 1.25rem; font-weight: 600; color: var(--text-primary);">{{ tabs[0] }}</div>
        </div>
        {% endif %}
        {% if tabs|length > 1 %}
        <div style="background: var(--bg-primary); padding: 1rem 1.5rem; border-radius: var(--radius-md); text-align: center;">
            <div style="font-size: 0.875rem; color: var(--text-secondary);">Rear Tab</div>
            <div style="font-size: 1.25rem; font-weight: 600; color: var(--text-primary);">{{ tabs[-1] }}</div>
        </div>
        {% endif %}
    </div>
    {% endif %}

    <div class="actions-grid">
        <form class="form" action="/projects/tab_manager/add_front" method="POST">
            <label for="page_front">Add to Front</label>
            <input type="text" id="page_front" name="page" placeholder="Enter page name" required>
            <button type="submit" style="background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));">
                ➕ Add Front
            </button>
        </form>

        <form class="form" action="/projects/tab_manager/add_rear" method="POST">
            <label for="page_rear">Add to Rear</label>
            <input type="text" id="page_rear" name="page" placeholder="Enter page name" required>
            <button type="submit" style="background: linear-gradient(135deg, var(--secondary-color), #7c3aed);">
                ➕ Add Rear
            </button>
        </form>

        <form class="form-button-only" action="/projects/tab_manager/remove_front" method="POST">
            <button type="submit" style="background: linear-gradient(135deg, var(--danger-color), #dc2626);">
                ❌ Close Front Tab
            </button>
        </form>

        <form class="form-button-only" action="/projects/tab_manager/remove_rear" method="POST">
            <button type="submit" style="background: linear-gradient(135deg, var(--warning-color), #d97706);">
                ❌ Close Rear Tab
            </button>
        </form>
    </div>
</div>
{% endblock content %}

