{% extends "base.html" %}

{% block title %}Restaurant Queue Simulator{% endblock title %}

{% block content %}
<div class="restaurant-container">
    <h1> Restaurant Queue Simulator</h1>
    <p style="text-align: center; color: var(--text-secondary); margin-bottom: 2rem;">
        Manage customer queue using FIFO (First In, First Out) principle
    </p>

    <div class="queue-display" id="queueDisplay">
        {% if queue %}
            {% for customer in queue %}
                <div class="queue-item">
                    <span style="font-weight: 600;">{{ customer }}</span>
                    {% if loop.first %}
                        <span style="display: block; font-size: 0.75rem; color: var(--primary-color); margin-top: 0.25rem;">← Next</span>
                    {% endif %}
                </div>
            {% endfor %}
        {% else %}
            <p><em>Queue is empty. Add customers to get started!</em></p>
        {% endif %}
    </div>

    {% if queue %}
    <div style="display: flex; justify-content: center; gap: 2rem; margin: 1.5rem 0; flex-wrap: wrap;">
        <div style="background: var(--bg-primary); padding: 1rem 1.5rem; border-radius: var(--radius-md); text-align: center;">
            <div style="font-size: 0.875rem; color: var(--text-secondary);">Queue Size</div>
            <div style="font-size: 2rem; font-weight: 700; color: var(--primary-color);">{{ queue|length }}</div>
        </div>
        {% if queue %}
        <div style="background: var(--bg-primary); padding: 1rem 1.5rem; border-radius: var(--radius-md); text-align: center;">
            <div style="font-size: 0.875rem; color: var(--text-secondary);">Next Customer</div>
            <div style="font-size: 1.25rem; font-weight: 600; color: var(--text-primary);">{{ queue[0] }}</div>
        </div>
        {% endif %}
    </div>
    {% endif %}

    <div class="actions-grid">
        <form class="form" action="/projects/restaurant_simulator/add" method="POST">
            <label for="name">Customer Name</label>
            <input type="text" id="name" name="name" placeholder="Enter customer name" required>
            <button type="submit">➕ Add to Queue</button>
        </form>

        <form class="form-button-only" action="/projects/restaurant_simulator/remove" method="GET">
            <button type="submit" style="background: linear-gradient(135deg, var(--danger-color), #dc2626);">
                ➖ Remove Next Customer
            </button>
        </form>

        <form class="form-button-only" action="/projects/restaurant_simulator/next" method="GET">
            <button type="submit" style="background: linear-gradient(135deg, var(--success-color), #059669);">
                View Next Customer
            </button>
        </form>

        <form class="form-button-only" action="/projects/restaurant_simulator/size" method="GET">
            <button type="submit" style="background: linear-gradient(135deg, var(--secondary-color), #7c3aed);">
                View Queue Size
            </button>
        </form>
    </div>
</div>
{% endblock content %}
